// SPDX-License-Identifier: GPL-2.0
/*
 * TI DA8XX/OMAP-L17X/OMAP-L18X/AM17XX/AM18XX Clocks Device Tree
 *
 * Copyright (C) 2017 David Lechner <david@lechnology.com>
 */

&clocks {
	ref_clk: ref_clk {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <24000000>;
		clock-output-names = "ref_clk";
	};

	sata_refclk: sata_refclk {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <100000000>;
		clock-output-names = "sata_refclk";
		status = "disabled";
	};

	usb_refclkin: usb_refclkin {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <48000000>;
		clock-output-names = "usb_refclkin";
		status = "disabled";
	};

	i2c0_clk: i2c0 {
		#clock-cells = <0>;
		compatible = "fixed-factor-clock";
		clock-div = <1>;
		clock-mult = <1>;
		clocks = <&pll0_aux_clk>;
		clock-output-names = "i2c0";
	};

	timer0_clk: timer0 {
		#clock-cells = <0>;
		compatible = "fixed-factor-clock";
		clock-div = <1>;
		clock-mult = <1>;
		clocks = <&pll0_aux_clk>;
		clock-output-names = "timer0";
	};

	timer1_clk: timer1 {
		#clock-cells = <0>;
		compatible = "fixed-factor-clock";
		clock-div = <1>;
		clock-mult = <1>;
		clocks = <&pll0_aux_clk>;
		clock-output-names = "timer1";
	};

	rmii_clk: rmii {
		#clock-cells = <0>;
		compatible = "fixed-factor-clock";
		clock-div = <1>;
		clock-mult = <1>;
		clocks = <&pll0_sysclk 7>;
		clock-output-names = "rmii";
	};
};

&cfgchip {
	ehrpwm_tbclk: tbclk {
		#clock-cells = <0>;
		compatible = "ti,da830-cfgchip-gate-clock";
		reg = <1>; /* CFGCHIP1 */
		bit = <12>;
		clocks = <&ehrpwm_clk>;
		clock-output-names = "ehrpwm_tbclk";
	};

	async3_clk: async3 {
		#clock-cells = <0>;
		compatible = "ti,da830-cfgchip-mux-clock";
		reg = <3>; /* CFGCHIP3 */
		bit-shift = <4>;
		bit-mask = <0x1>;
		clocks = <&pll0_sysclk 2>, <&pll1_sysclk 2>;
		clock-values = <0x0>, <0x1>;
		clock-output-names = "async3";
	};

	usb0_phy_clk: usb0-phy-clock {
		#clock-cells = <0>;
		compatible = "ti,da830-usb0-phy-clock";
		clocks = <&usb_refclkin>, <&pll0_aux_clk>;
		usb0-psc-clocks = <&usb0_clk>;
		clock-output-names = "usb0_phy_clk";
	};

	usb1_phy_clk: usb1-phy-clock {
		#clock-cells = <0>;
		compatible = "ti,da830-usb1-phy-clock";
		clocks = <&usb0_phy_clk>, <&usb_refclkin>;
		clock-output-names = "usb1_phy_clk";
	};
};

&pll0 {
	pll0_sysclk: main {
		#clock-cells = <1>;
		compatible = "ti,davinci-pll-main";
		clocks = <&ref_clk>, <&pll1_sysclk 3>;
		clock-indices = <1>, <2>, <3>, <4>, <5>, <6>, <7>;
		clock-output-names = "pll0_sysclk1",
				     "pll0_sysclk2",
				     "pll0_sysclk3",
				     "pll0_sysclk4",
				     "pll0_sysclk5",
				     "pll0_sysclk6",
				     "pll0_sysclk7";
	};

	pll0_aux_clk: aux {
		#clock-cells = <0>;
		compatible = "ti-davinci-pll-aux";
		clocks = <&ref_clk>;
		clock-output-names = "pll0_aux_clk";
	};
};

&pll1 {
	pll1_sysclk: main {
		#clock-cells = <1>;
		compatible = "ti,davinci-pll-main";
		clocks = <&ref_clk &ref_clk>;
		clock-indices = <1>, <2>, <3>;
		clock-output-names = "pll1_sysclk1",
				     "pll1_sysclk2",
				     "pll1_sysclk3";
	};

	pll1_aux_clk: aux {
		#clock-cells = <0>;
		compatible = "ti-davinci-pll-aux";
		clocks = <&ref_clk>;
		clock-output-names = "pll1_aux_clk";
	};
};

&psc0 {
	#address-cells = <1>;
	#size-cells = <0>;

	tpcc0_clk: clock@0 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <0>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "tpcc0";
	};

	tptc0_clk: clock@1 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <1>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "tptc0";
	};

	tptc1_clk: clock@2 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <2>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "tptc1";
	};

	aemif_clk: clock@3 {
		#clock-cells = <0>;
		reg = <3>;
		clocks = <&pll0_sysclk 3>;
		clock-output-names = "aemif";
	};

	spi0_clk: clock@4 {
		#clock-cells = <0>;
		reg = <4>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "spi0";
	};

	mmcsd0_clk: clock@5 {
		#clock-cells = <0>;
		reg = <5>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "mmcsd0";
	};

	aintc_clk: clock@6 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <6>;
		clocks = <&pll0_sysclk 4>;
		clock-output-names = "aintc";
	};

	arm_rom_clk: clock@7 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <7>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "arm_rom";
	};

	uart0_clk: clock@9 {
		#clock-cells = <0>;
		reg = <9>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "uart0";
	};

	pruss_clk: clock@13 {
		#clock-cells = <0>;
		reg = <13>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "pruss";
	};

	arm_clk: clock@14 {
		#clock-cells = <0>;
		#reset-cells = <0>;
		reg = <14>;
		clocks = <&pll0_sysclk 6>;
		clock-output-names = "arm";
	};

	dsp_clk: clock@15 {
		#clock-cells = <0>;
		#reset-cells = <0>;
		reg = <15>;
		clocks = <&pll0_sysclk 1>;
		clock-output-names = "dsp";
		power-domain = <1>;
	};
};

&psc1 {
	#address-cells = <1>;
	#size-cells = <0>;

	tpcc1_clk: clock@0 {
		#clock-cells = <0>;
		reg = <0>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "tpcc1";
		status = "disabled";
	};

	usb0_clk: clock@1 {
		#clock-cells = <0>;
		reg = <1>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "usb0";
	};

	usb1_clk: clock@2 {
		#clock-cells = <0>;
		reg = <2>;
		clocks = <&pll0_sysclk 4>;
		clock-output-names = "usb1";
	};

	gpio_clk: clock@3 {
		#clock-cells = <0>;
		reg = <3>;
		clocks = <&pll0_sysclk 4>;
		clock-output-names = "gpio";
	};

	emac_clk: clock@5 {
		#clock-cells = <0>;
		reg = <5>;
		clocks = <&pll0_sysclk 4>;
		clock-output-names = "emac";
	};

	emif3_clk: clock@6 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <6>;
		clocks = <&pll0_sysclk 5>;
		clock-output-names = "emif3";
	};

	mcasp0_clk: clock@7 {
		#clock-cells = <0>;
		reg = <7>;
		clocks = <&async3_clk>;
		clock-output-names = "mcasp";
	};

	sata_clk: clock@8 {
		#clock-cells = <0>;
		reg = <8>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "sata";
	};

	vpif_clk: clock@9 {
		#clock-cells = <0>;
		reg = <9>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "vpif";
	};

	spi1_clk: clock@10 {
		#clock-cells = <0>;
		reg = <10>;
		clocks = <&async3_clk>;
		clock-output-names = "spi1";
	};

	i2c1_clk: clock@11 {
		#clock-cells = <0>;
		reg = <11>;
		clocks = <&pll0_sysclk 4>;
		clock-output-names = "i2c1";
	};

	uart1_clk: clock@12 {
		#clock-cells = <0>;
		reg = <12>;
		clocks = <&async3_clk>;
		clock-output-names = "uart1";
	};

	uart2_clk: clock@13 {
		#clock-cells = <0>;
		reg = <13>;
		clocks = <&async3_clk>;
		clock-output-names = "uart2";
	};

	mcbsp0_clk: clock@14 {
		#clock-cells = <0>;
		reg = <14>;
		clocks = <&async3_clk>;
		clock-output-names = "mcbsp0";
	};

	mcbsp1_clk: clock@15 {
		#clock-cells = <0>;
		reg = <15>;
		clocks = <&async3_clk>;
		clock-output-names = "mcbsp1";
	};

	lcdc_clk: clock@16 {
		#clock-cells = <0>;
		reg = <16>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "lcdc";
	};

	ehrpwm_clk: clock@17 {
		#clock-cells = <0>;
		reg = <17>;
		clocks = <&async3_clk>;
		clock-output-names = "ehrpwm";
	};

	mmcsd1_clk: clock@18 {
		#clock-cells = <0>;
		reg = <18>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "mmcsd1";
	};

	ecap_clk: clock@20 {
		#clock-cells = <0>;
		reg = <20>;
		clocks = <&async3_clk>;
		clock-output-names = "ecap";
	};

	tptc2_clk: clock@21 {
		status = "disabled";
		#clock-cells = <0>;
		reg = <21>;
		clocks = <&pll0_sysclk 2>;
		clock-output-names = "tptc2";
	};
};
